<% provide(:title, 'All users') %>
<section class="content">
  <div class="row">
  <div class="divs">
    <div class="col-xs-12">
      <div class="box">
        <h1 class="text-center text-capitalize">All Users</h1>
        <!-- /.box-header -->
        <div class="box-body table-responsive">
          <table id="listUsers" class="table table-bordered table-hover" style="background-color: #FFFFFF">
            <thead>
            <tr>
              <th class="text-center" style="background-color:lightgrey;">ID</th>
              <th class="text-center" style="background-color:lightgrey;">Username</th>
              <th class="text-center" style="background-color:lightgrey;">Email</th>
              <th class="text-center" style="background-color:lightgrey;">Actions</th>
            </tr>
            </thead>
            <tbody>
            <% @users.each do |user| %>
                <tr>
                  <td class="text-center"><%= link_to user.id, user_path(user) %></td>
                  <td><%= user.username %></td>
                  <td><%= user.email %></td>
                  <td class="text-center">
                    <%= link_to t('.transfers', :default => t("helpers.links.transfers")),
                                edit_user_path(user), :class => 'btn btn-default btn-xs' %>
                    <% if current_user.admin && !current_user?(user) %>
                      <%= link_to t('.destroy', :default => t("helpers.links.destroy")), user_path(user), :method => :delete, :data => {:confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?'))}, :class => 'btn btn-xs btn-danger'
                    %>
                    <% end %>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>

  <% content_for :js do %>
      <script>
        $(function () {
          $("#listUsers").DataTable();
        });
      </script>
  <% end %>

</section>
