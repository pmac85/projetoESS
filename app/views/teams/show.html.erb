<% provide(:title, @team.name) %>

<script>

  var players;

  $(document).ready(function () {
    players = $("#listPlayers").DataTable({
      select: true
    });
  });


</script>

<div class="row">
  <div class="divs box-body table-responsive">
    <aside class="col-md-6">
      <section class="user_info">
        <h1>
          <% if @team.image_path.nil? %>
          <%= @team.name %>
          <% else %>
            <%= image_tag @team.image_path, size: "150x150" %>
            <%= @team.name %>
          <% end %>
        </h1>
      </section>

      <div id="field" style=" position: relative; width: 100%; height: 100%">
        <%= image_tag "field.png", width: "100%", height: "100%" %>

        <div style="width: 100%; height: 100%; position: absolute; top: 0; text-align: center">

          <div id="fors" style="border: 1px solid #000000; width: 100%; height: 15%; margin-top: 25%; position: relative">
            <% @players.select{ |p| p.position == "FOR"}.each do |player| %>
                <div id="<%= player.id %>" style="overflow: hidden; border: 1px solid #000000; width: 18%; height: 100%; display: inline-block">
                  <p><%= image_tag player.image_path, size: "50x50" %></p>
                  <%= player.name %>
                </div>
            <% end %>
          </div>

          <div id="mids" style="border: 1px solid #000000; width: 100%; height: 15%; margin-top: 15%; position: relative">
            <% @players.select{ |p| p.position == "MID"}.each do |player| %>
                <div id="<%= player.id %>" style="overflow: hidden; border: 1px solid #000000; width: 18%; height: 100%; display: inline-block">
                  <p><%= image_tag player.image_path, size: "50x50" %></p>
                  <%= player.name %>
                </div>
            <% end %>
          </div>


          <div id="defs" style="border: 1px solid #000000; width: 100%; height: 15%; margin-top: 15%; position: relative">
            <% @players.select{ |p| p.position == "DEF"}.each do |player| %>
                <div id="<%= player.id %>" style="overflow: hidden; border: 1px solid #000000; width: 18%; height: 100%; display: inline-block">
                  <p><%= image_tag player.image_path, size: "50x50" %></p>
                  <%= player.name %>
                </div>
            <% end %>
          </div>

          <div id="gk" style="border: 1px solid #000000; width: 100%; height: 15%; margin-top: 5%; position: relative">
            <% @players.select{ |p| p.position == "GK"}.each do |player| %>
                <div id="<%= player.id %>" style="overflow: hidden; border: 1px solid #000000; width: 20%; height: 100%; display: inline-block">
                  <p><%= image_tag player.image_path, size: "50x50" %></p>
                  <%= player.name %>
                </div>
            <% end %>
          </div>
        </div>



      </div>




    </aside>
    <aside class="col-md-6">
      <% if @team.players.any? %>
        <h3>Players</h3>
        <div class="row">
          <table id="listPlayers" class="table table-bordered" style="background-color: #FFFFFF">
            <thead>
              <tr class="info">
                <th class="text-center" style="background-color:lightgrey;">Name</th>
                <th class="text-center" style="background-color:lightgrey;">Team</th>
                <th class="text-center" style="background-color:lightgrey;">Position</th>
                <th class="text-center" style="background-color:lightgrey;">Value</th>
              </tr>
            </thead>
            <tbody>
              <%= render @players %>
            </tbody>
          </table>
        </div>
      <% end %>
    </aside>
  </div>
</div>
